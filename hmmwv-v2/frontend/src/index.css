@import "tailwindcss";

/* ── Design tokens ──────────────────────────────────────────────── */
@theme {
  --color-bg-base:      #1a1b1e;
  --color-bg-sidebar:   #141517;
  --color-bg-surface:   #25262b;
  --color-bg-surface2:  #2c2e33;
  --color-border:       #373a40;
  --color-amber:        #d4a017;
  --color-amber-dim:    #a07812;
  --color-olive:        #74c365;
  --color-danger:       #f03e3e;
  --color-text:         #c1c2c5;
  --color-muted:        #6b6e7a;
  --color-bright:       #e8e9ef;

  --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
  --font-sans: 'Inter', system-ui, sans-serif;
}

/* ── Base ───────────────────────────────────────────────────────── */
@layer base {
  *  { box-sizing: border-box; }
  html { font-size: 14px; }

  body {
    background-color: var(--color-bg-base);
    color: var(--color-text);
    font-family: var(--font-sans);
    line-height: 1.6;
    margin: 0;
    -webkit-font-smoothing: antialiased;
  }

  ::-webkit-scrollbar       { width: 6px; height: 6px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: #373a40; border-radius: 3px; }
  ::-webkit-scrollbar-thumb:hover { background: #555; }
}

/* ── Utility helpers ────────────────────────────────────────────── */
@layer utilities {
  .font-mono    { font-family: var(--font-mono); }
  .text-amber   { color: var(--color-amber); }
  .text-olive   { color: var(--color-olive); }
  .text-muted   { color: var(--color-muted); }
  .text-bright  { color: var(--color-bright); }
  .text-danger  { color: var(--color-danger); }
  .bg-base      { background-color: var(--color-bg-base); }
  .bg-sidebar   { background-color: var(--color-bg-sidebar); }
  .bg-surface   { background-color: var(--color-bg-surface); }
  .bg-surface2  { background-color: var(--color-bg-surface2); }
  .border-border { border-color: var(--color-border); }

  .scrollbar-hidden {
    scrollbar-width: none;
  }
  .scrollbar-hidden::-webkit-scrollbar {
    display: none;
  }
}

/* ── Markdown prose reset for dark theme ───────────────────────── */
.prose-dark {
  color: var(--color-text);
}
.prose-dark h1, .prose-dark h2, .prose-dark h3,
.prose-dark h4, .prose-dark h5, .prose-dark h6 {
  color: var(--color-bright);
  font-family: var(--font-mono);
  margin-top: 1.25em;
  margin-bottom: 0.5em;
}
.prose-dark p   { margin-bottom: 0.75em; }
.prose-dark ul, .prose-dark ol { padding-left: 1.5em; margin-bottom: 0.75em; }
.prose-dark li  { margin-bottom: 0.25em; }
.prose-dark strong { color: var(--color-bright); }
.prose-dark code {
  font-family: var(--font-mono);
  background: var(--color-bg-surface2);
  color: var(--color-amber);
  padding: 0.1em 0.4em;
  border-radius: 3px;
  font-size: 0.9em;
}
.prose-dark pre {
  background: var(--color-bg-surface2);
  border: 1px solid var(--color-border);
  border-radius: 4px;
  padding: 1em;
  overflow-x: auto;
  margin-bottom: 0.75em;
}
.prose-dark pre code {
  background: none;
  padding: 0;
  color: var(--color-text);
}
.prose-dark blockquote {
  border-left: 3px solid var(--color-amber);
  padding-left: 0.75em;
  color: var(--color-muted);
  font-style: italic;
  margin-left: 0;
}
.prose-dark table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 0.75em;
}
.prose-dark th {
  background: var(--color-bg-surface2);
  color: var(--color-bright);
  font-family: var(--font-mono);
  padding: 0.5em 0.75em;
  text-align: left;
  border: 1px solid var(--color-border);
}
.prose-dark td {
  padding: 0.4em 0.75em;
  border: 1px solid var(--color-border);
}
.prose-dark a {
  color: var(--color-amber);
  text-decoration: underline;
}

/* ── Animations ─────────────────────────────────────────────────── */
@keyframes pulse-dot {
  0%, 100% { opacity: 1; transform: scale(1); }
  50%       { opacity: 0.4; transform: scale(0.8); }
}
@keyframes blink {
  0%, 100% { opacity: 1; }
  50%       { opacity: 0; }
}
@keyframes fade-in {
  from { opacity: 0; transform: translateY(6px); }
  to   { opacity: 1; transform: translateY(0); }
}

.animate-pulse-dot { animation: pulse-dot 1.2s ease-in-out infinite; }
.animate-blink     { animation: blink 1s step-end infinite; }
.animate-fade-in   { animation: fade-in 0.2s ease-out; }
